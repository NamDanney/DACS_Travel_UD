{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\OneDrive\\\\Desktop\\\\DACS_Travel_PhuYen\\\\frontend\\\\src\\\\pages\\\\LocationDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../styles/LocationCSS/LocationDetailPage.css\";\n// Import all components\nimport WeatherSection from \"../components/LocationDetail/WeatherSection\";\nimport MapSection from \"../components/LocationDetail/MapSection\";\nimport IntroSection from \"../components/LocationDetail/IntroSection\";\nimport HighlightSection from \"../components/LocationDetail/HighlightSection\";\nimport TimingSection from \"../components/LocationDetail/TimingSection\";\nimport TravelSection from \"../components/LocationDetail/TravelSection\";\nimport GallerySection from \"../components/LocationDetail/GallerySection\";\nimport FoodSection from \"../components/LocationDetail/FoodSection\";\nimport TipsSection from \"../components/LocationDetail/TipsSection\";\n// import PhotoUploadSection from \"../components/LocationDetail/PhotoUploadSection\";\nimport Sidebar from \"../components/LocationDetail/Sidebar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationDetailPage = () => {\n  _s();\n  var _location$introductio, _location$introductio2, _location$whyVisit, _location$whyVisit$ar, _location$whyVisit2, _location$whyVisit2$a, _location$whyVisit3, _location$whyVisit3$a, _location$whyVisit4, _location$travelMetho, _location$travelMetho2, _location$travelInfo, _location$travelInfo2;\n  const {\n    id\n  } = useParams();\n  const [location, setLocation] = useState(null); // State để lưu dữ liệu từ API\n  const [loading, setLoading] = useState(true); // State để xử lý trạng thái loading\n  const [error, setError] = useState(null); // State để xử lý lỗi\n\n  // // State for photo upload\n  // const [images, setImages] = useState([]);\n  // const maxNumber = 5;\n\n  // State for weather\n  const [weatherData, setWeatherData] = useState(null);\n  const [weatherError, setWeatherError] = useState(null);\n\n  // State for map\n  const [viewport, setViewport] = useState({\n    latitude: 13.5,\n    longitude: 109.3,\n    zoom: 10,\n    width: \"100%\",\n    height: \"400px\"\n  });\n\n  // Use environment variables for API keys\n  const OPENWEATHER_API_KEY = process.env.REACT_APP_OPENWEATHER_API_KEY || \"095cde61e730fd9406235de1237e97c1\";\n\n  // Fetch location data from API\n  useEffect(() => {\n    const fetchLocation = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/locations/${id}`, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        setLocation(response.data);\n        setLoading(false);\n      } catch (err) {\n        setError(\"Không thể lấy dữ liệu địa điểm: \" + err.message);\n        setLoading(false);\n        console.error(\"Chi tiết lỗi:\", err);\n      }\n    };\n    fetchLocation();\n  }, [id]);\n\n  // Fetch weather data when location data is available\n  useEffect(() => {\n    const fetchWeather = async () => {\n      try {\n        if (location && location.coordinates) {\n          const response = await axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${location.coordinates.latitude}&lon=${location.coordinates.longitude}&units=metric&appid=${OPENWEATHER_API_KEY}`);\n          setWeatherData(response.data);\n          setWeatherError(null);\n        }\n      } catch (error) {\n        console.error(\"Error fetching weather data:\", error);\n        setWeatherError(\"Không thể tải dữ liệu thời tiết. Vui lòng thử lại sau.\");\n        setWeatherData(null);\n      }\n    };\n    fetchWeather();\n  }, [location, OPENWEATHER_API_KEY]);\n\n  // Update viewport when location data is available\n  useEffect(() => {\n    if (location && location.coordinates) {\n      console.log(\"Updating viewport with coordinates:\", location.coordinates);\n      setViewport(prev => ({\n        ...prev,\n        latitude: location.coordinates.latitude,\n        longitude: location.coordinates.longitude,\n        zoom: 12\n      }));\n    }\n  }, [location]);\n\n  // Scroll to section\n  const scrollToSection = sectionId => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      element.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    }\n  };\n\n  // Handle loading, error, and not found states\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"location-detail-page container mx-auto p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 83\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"location-detail-page container mx-auto p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"L\\u1ED7i: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 81\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 21\n  }, this);\n  if (!location) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"location-detail-page container mx-auto p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Kh\\xF4ng t\\xECm th\\u1EA5y \\u0111\\u1ECBa \\u0111i\\u1EC3m!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 85\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 25\n  }, this);\n\n  // Function to construct image URL (if using express.static or S3/Cloudinary)\n  const getImageUrl = imagePath => {\n    if (!imagePath || typeof imagePath !== \"string\") {\n      return \"https://via.placeholder.com/300x200?text=No+Image\";\n    }\n    return `http://localhost:5000${imagePath}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"location-detail-page container mx-auto p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-location-content flex flex-col md:flex-row gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-left flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold mb-2\",\n          children: location.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-600 mb-4\",\n          children: location.subtitle || \"Không có phụ đề\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IntroSection, {\n          location: {\n            introduction: {\n              text: (_location$introductio = location.introduction) === null || _location$introductio === void 0 ? void 0 : _location$introductio.text,\n              image: (_location$introductio2 = location.introduction) === null || _location$introductio2 === void 0 ? void 0 : _location$introductio2.image\n            }\n          },\n          imageMapper: image => getImageUrl(image)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(HighlightSection, {\n          location: {\n            whyVisit: {\n              architecture: {\n                title: (_location$whyVisit = location.whyVisit) === null || _location$whyVisit === void 0 ? void 0 : (_location$whyVisit$ar = _location$whyVisit.architecture) === null || _location$whyVisit$ar === void 0 ? void 0 : _location$whyVisit$ar.title,\n                text: (_location$whyVisit2 = location.whyVisit) === null || _location$whyVisit2 === void 0 ? void 0 : (_location$whyVisit2$a = _location$whyVisit2.architecture) === null || _location$whyVisit2$a === void 0 ? void 0 : _location$whyVisit2$a.text,\n                image: (_location$whyVisit3 = location.whyVisit) === null || _location$whyVisit3 === void 0 ? void 0 : (_location$whyVisit3$a = _location$whyVisit3.architecture) === null || _location$whyVisit3$a === void 0 ? void 0 : _location$whyVisit3$a.image\n              },\n              culture: (_location$whyVisit4 = location.whyVisit) === null || _location$whyVisit4 === void 0 ? void 0 : _location$whyVisit4.culture\n            }\n          },\n          imageMapper: image => getImageUrl(image)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TimingSection, {\n          location: {\n            bestTime: location.bestTimes || [] // API trả về bestTimes thay vì bestTime\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WeatherSection, {\n          weatherData: weatherData,\n          weatherError: weatherError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TravelSection, {\n          location: {\n            travel: {\n              fromTuyHoa: ((_location$travelMetho = location.travelMethods) === null || _location$travelMetho === void 0 ? void 0 : _location$travelMetho.fromTuyHoa) || [],\n              fromElsewhere: ((_location$travelMetho2 = location.travelMethods) === null || _location$travelMetho2 === void 0 ? void 0 : _location$travelMetho2.fromElsewhere) || [],\n              ticketPrice: (_location$travelInfo = location.travelInfo) === null || _location$travelInfo === void 0 ? void 0 : _location$travelInfo.ticketPrice,\n              tip: (_location$travelInfo2 = location.travelInfo) === null || _location$travelInfo2 === void 0 ? void 0 : _location$travelInfo2.tip\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), location.coordinates ? /*#__PURE__*/_jsxDEV(MapSection, {\n          viewport: viewport,\n          setViewport: setViewport\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u b\\u1EA3n \\u0111\\u1ED3 cho \\u0111\\u1ECBa \\u0111i\\u1EC3m n\\xE0y.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(GallerySection, {\n          location: {\n            experiences: location.experiences || []\n          }\n          // imageMapper={(image) => getImageUrl(image)}\n          ,\n          imageMapper: getImageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FoodSection, {\n          location: {\n            cuisine: location.cuisine || []\n          }\n          // imageMapper={(image) => getImageUrl(image)}\n          ,\n          imageMapper: getImageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TipsSection, {\n          location: {\n            tips: location.tips || []\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/locations\",\n          className: \"text-blue-500 hover:underline mb-4 inline-block\",\n          children: \"Quay l\\u1EA1i danh s\\xE1ch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n        location: {\n          nearby: location.nearby || [],\n          nearbyHotels: location.nearbyHotels || []\n        },\n        scrollToSection: scrollToSection\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationDetailPage, \"4fJHiQsKk489VIcn8oLWiE/5vxo=\", false, function () {\n  return [useParams];\n});\n_c = LocationDetailPage;\nexport default LocationDetailPage;\nvar _c;\n$RefreshReg$(_c, \"LocationDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","WeatherSection","MapSection","IntroSection","HighlightSection","TimingSection","TravelSection","GallerySection","FoodSection","TipsSection","Sidebar","jsxDEV","_jsxDEV","LocationDetailPage","_s","_location$introductio","_location$introductio2","_location$whyVisit","_location$whyVisit$ar","_location$whyVisit2","_location$whyVisit2$a","_location$whyVisit3","_location$whyVisit3$a","_location$whyVisit4","_location$travelMetho","_location$travelMetho2","_location$travelInfo","_location$travelInfo2","id","location","setLocation","loading","setLoading","error","setError","weatherData","setWeatherData","weatherError","setWeatherError","viewport","setViewport","latitude","longitude","zoom","width","height","OPENWEATHER_API_KEY","process","env","REACT_APP_OPENWEATHER_API_KEY","fetchLocation","response","get","headers","data","err","message","console","fetchWeather","coordinates","log","prev","scrollToSection","sectionId","element","document","getElementById","scrollIntoView","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getImageUrl","imagePath","title","subtitle","introduction","text","image","imageMapper","whyVisit","architecture","culture","bestTime","bestTimes","travel","fromTuyHoa","travelMethods","fromElsewhere","ticketPrice","travelInfo","tip","experiences","cuisine","tips","to","nearby","nearbyHotels","_c","$RefreshReg$"],"sources":["C:/Users/admin/OneDrive/Desktop/DACS_Travel_PhuYen/frontend/src/pages/LocationDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\"; \nimport axios from \"axios\";\nimport \"../styles/LocationCSS/LocationDetailPage.css\";\n// Import all components\nimport WeatherSection from \"../components/LocationDetail/WeatherSection\";\nimport MapSection from \"../components/LocationDetail/MapSection\";\nimport IntroSection from \"../components/LocationDetail/IntroSection\";\nimport HighlightSection from \"../components/LocationDetail/HighlightSection\";\nimport TimingSection from \"../components/LocationDetail/TimingSection\";\nimport TravelSection from \"../components/LocationDetail/TravelSection\";\nimport GallerySection from \"../components/LocationDetail/GallerySection\";\nimport FoodSection from \"../components/LocationDetail/FoodSection\";\nimport TipsSection from \"../components/LocationDetail/TipsSection\";\n// import PhotoUploadSection from \"../components/LocationDetail/PhotoUploadSection\";\nimport Sidebar from \"../components/LocationDetail/Sidebar\";\n\nconst LocationDetailPage = () => {\n  const { id } = useParams();\n  const [location, setLocation] = useState(null); // State để lưu dữ liệu từ API\n  const [loading, setLoading] = useState(true); // State để xử lý trạng thái loading\n  const [error, setError] = useState(null); // State để xử lý lỗi\n\n  // // State for photo upload\n  // const [images, setImages] = useState([]);\n  // const maxNumber = 5;\n\n  // State for weather\n  const [weatherData, setWeatherData] = useState(null);\n  const [weatherError, setWeatherError] = useState(null);\n\n  // State for map\n  const [viewport, setViewport] = useState({\n    latitude: 13.5,\n    longitude: 109.3,\n    zoom: 10,\n    width: \"100%\",\n    height: \"400px\",\n  });\n\n  // Use environment variables for API keys\n  const OPENWEATHER_API_KEY =\n    process.env.REACT_APP_OPENWEATHER_API_KEY || \"095cde61e730fd9406235de1237e97c1\";\n\n  // Fetch location data from API\n  useEffect(() => {\n    const fetchLocation = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/locations/${id}`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n        setLocation(response.data);\n        setLoading(false);\n      } catch (err) {\n        setError(\"Không thể lấy dữ liệu địa điểm: \" + err.message);\n        setLoading(false);\n        console.error(\"Chi tiết lỗi:\", err);\n      }\n    };\n\n    fetchLocation();\n  }, [id]);\n\n  // Fetch weather data when location data is available\n  useEffect(() => {\n    const fetchWeather = async () => {\n      try {\n        if (location && location.coordinates) {\n          const response = await axios.get(\n            `https://api.openweathermap.org/data/2.5/weather?lat=${location.coordinates.latitude}&lon=${location.coordinates.longitude}&units=metric&appid=${OPENWEATHER_API_KEY}`\n          );\n          setWeatherData(response.data);\n          setWeatherError(null);\n        }\n      } catch (error) {\n        console.error(\"Error fetching weather data:\", error);\n        setWeatherError(\"Không thể tải dữ liệu thời tiết. Vui lòng thử lại sau.\");\n        setWeatherData(null);\n      }\n    };\n    fetchWeather();\n  }, [location, OPENWEATHER_API_KEY]);\n\n  // Update viewport when location data is available\n  useEffect(() => {\n    if (location && location.coordinates) {\n      console.log(\"Updating viewport with coordinates:\", location.coordinates);\n      setViewport((prev) => ({\n        ...prev,\n        latitude: location.coordinates.latitude,\n        longitude: location.coordinates.longitude,\n        zoom: 12,\n      }));\n    }\n  }, [location]);\n\n  // Scroll to section\n  const scrollToSection = (sectionId) => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      element.scrollIntoView({ behavior: \"smooth\" });\n    }\n  };\n\n  // Handle loading, error, and not found states\n  if (loading) return <div className=\"location-detail-page container mx-auto p-4\"><p>Đang tải dữ liệu...</p></div>;\n  if (error) return <div className=\"location-detail-page container mx-auto p-4\"><p>Lỗi: {error}</p></div>;\n  if (!location) return <div className=\"location-detail-page container mx-auto p-4\"><p>Không tìm thấy địa điểm!</p></div>;\n\n  // Function to construct image URL (if using express.static or S3/Cloudinary)\n  const getImageUrl = (imagePath) => {\n    if (!imagePath || typeof imagePath !== \"string\") {\n      return \"https://via.placeholder.com/300x200?text=No+Image\";\n    }\n    return `http://localhost:5000${imagePath}`;\n  };\n\n  return (\n    <div className=\"location-detail-page container mx-auto p-4\">\n      <div className=\"main-location-content flex flex-col md:flex-row gap-8\">\n        <div className=\"content-left flex-1\">\n         \n          <h1 className=\"text-3xl font-bold mb-2\">{location.title}</h1>\n          <p className=\"text-lg text-gray-600 mb-4\">{location.subtitle || \"Không có phụ đề\"}</p>\n\n          {/* Intro Section */}\n          <IntroSection\n            location={{\n              introduction: {\n                text: location.introduction?.text,\n                image: location.introduction?.image,\n              },\n            }}\n            imageMapper={(image) => getImageUrl(image)} \n          />\n\n          {/* Highlight Section */}\n          <HighlightSection\n            location={{\n              whyVisit: {\n                architecture: {\n                  title: location.whyVisit?.architecture?.title,\n                  text: location.whyVisit?.architecture?.text,\n                  image: location.whyVisit?.architecture?.image,\n                },\n                culture: location.whyVisit?.culture,\n              },\n            }}\n            imageMapper={(image) => getImageUrl(image)}\n          />\n\n          {/* Timing Section */}\n          <TimingSection\n            location={{\n              bestTime: location.bestTimes || [], // API trả về bestTimes thay vì bestTime\n            }}\n          />\n\n          {/* Weather Section */}\n          <WeatherSection weatherData={weatherData} weatherError={weatherError} />\n\n          {/* Travel Section */}\n          <TravelSection\n            location={{\n              travel: {\n                fromTuyHoa: location.travelMethods?.fromTuyHoa || [],\n                fromElsewhere: location.travelMethods?.fromElsewhere || [],\n                ticketPrice: location.travelInfo?.ticketPrice,\n                tip: location.travelInfo?.tip,\n              },\n            }}\n          />\n\n          {/* Map Section */}\n          {location.coordinates ? (\n            <MapSection viewport={viewport} setViewport={setViewport} />\n          ) : (\n            <div>Không có dữ liệu bản đồ cho địa điểm này.</div>\n          )}\n\n          {/* Gallery Section */}\n          <GallerySection\n            location={{\n              experiences: location.experiences || [],\n            }}\n            // imageMapper={(image) => getImageUrl(image)}\n            imageMapper={getImageUrl}\n\n          />\n\n          {/* Food Section */}\n          <FoodSection\n            location={{\n              cuisine: location.cuisine || [],\n            }}\n            // imageMapper={(image) => getImageUrl(image)}\n            imageMapper={getImageUrl}\n          />\n\n          {/* Tips Section */}\n          <TipsSection\n            location={{\n              tips: location.tips || [],\n            }}\n          />\n           {/* Thêm nút quay lại danh sách */}\n           <Link to=\"/locations\" className=\"text-blue-500 hover:underline mb-4 inline-block\">\n            Quay lại danh sách\n          </Link>\n          {/* Photo Upload Section\n          <PhotoUploadSection\n            images={images}\n            setImages={setImages}\n            maxNumber={maxNumber}\n            locationId={id} // Truyền locationId để upload ảnh\n          /> */}\n        </div>\n\n        {/* Sidebar */}\n        <Sidebar\n          location={{\n            nearby: location.nearby || [],\n            nearbyHotels: location.nearbyHotels || [],\n          }}\n          scrollToSection={scrollToSection}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default LocationDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}